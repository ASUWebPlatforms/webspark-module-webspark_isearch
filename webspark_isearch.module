<?php

use Drupal\block\Entity\Block;
use Drupal\media\Entity\Media;
use Drupal\file\Entity\File;

function webspark_isearch_theme_suggestions_block_alter(array &$suggestions, array $variables) {
  if (isset($variables['elements']['content']['#block_content'])) {
    $blockType = $variables['elements']['content']['#block_content']->bundle();
    if ($blockType == 'isearch') {
      if (isset($variables['elements']['content']['#block_content'])) {
        $blockContent = $variables['elements']['content']['#block_content'];
        $type = $blockContent->get('field_isearchtype');
        $typeString = $type->get(0)->get('value')->getString();
        $suggestions[] = 'block__' . 'isearch_' . $typeString;
      }
    }
  }
}
